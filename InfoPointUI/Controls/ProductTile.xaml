<UserControl x:Class="InfoPointUI.Controls.ProductTile"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Width="240" Height="205"
             Background="White"
             Cursor="Hand">

    <Border BorderBrush="{StaticResource PharmacyGreen}"
            BorderThickness="1"
            Background="White"
            Margin="4"
            Padding="4"
            Effect="{StaticResource TileShadow}">

        <StackPanel VerticalAlignment="Top" MaxHeight="221">
            <Grid HorizontalAlignment="Center" Margin="0,0,0,6">
                <Image Source="{Binding ProductImage}"
                       Width="150" Height="100"
                       Stretch="Uniform"
                       RenderOptions.BitmapScalingMode="HighQuality"
                       SnapsToDevicePixels="True"
                       UseLayoutRounding="True"
                       ImageFailed="OnImageFailed"/>

                <Border Background="{StaticResource DrMaxRed}"
                        Padding="4,2"
                        CornerRadius="6"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top"
                        Visibility="{Binding HasDiscount, Converter={StaticResource BoolToVisibilityConverter}}"
                        Margin="-20,10,0,0"
                        Panel.ZIndex="1">
                    <TextBlock Text="{Binding DiscountLabel}"
                               Foreground="White"
                               FontWeight="Bold"
                               FontSize="18"
                              FontFamily="{StaticResource BahnschriftFont}"/>
                </Border>
            </Grid>

            <TextBlock Text="{Binding Name}"
                       FontSize="15"
                       FontWeight="Bold"
                       FontFamily="{StaticResource BahnschriftFont}"
                       TextAlignment="Center"
                       TextWrapping="Wrap"
                       TextTrimming="CharacterEllipsis"
                       Height="36"
                       LineStackingStrategy="BlockLineHeight"
                       LineHeight="18"
                       Margin="0,0,0,2"/>

            <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Center"
                        Margin="0,0,0,2">
                <TextBlock Text="Preț: "
                           FontSize="16"
                           FontFamily="{StaticResource BahnschriftFont}"
                           FontWeight="SemiBold"
                           Foreground="{StaticResource PharmacyGreen}"
                           Margin="0,0,4,0" />

                <TextBlock Text="{Binding Price, Converter={StaticResource CurrencyConverter}}"
                           FontSize="16"
                           FontFamily="{StaticResource BahnschriftFont}"
                           FontWeight="SemiBold"
                           Foreground="{StaticResource PharmacyGreen}"
                           Margin="0,0,4,0" />

                <TextBlock Text="{Binding OriginalPrice, Converter={StaticResource CurrencyConverter}}"
                           FontSize="14"
                           FontFamily="{StaticResource BahnschriftFont}"
                           Foreground="#888"
                           TextDecorations="Strikethrough"
                           Margin="0,1,0,0"
                           Visibility="{Binding HasDiscount, Converter={StaticResource BoolToVisibilityConverter}}"/>
            </StackPanel>

            <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Margin="0,0,0,0"
                        Opacity="0.9">
                <Image Source="pack://application:,,,/InfoPointUI;component/Assets/Images/gps_pin.png"
                       Width="20"
                       Height="20"
                       Margin="0,0,4,0"
                       RenderOptions.BitmapScalingMode="HighQuality"/>

                <TextBlock Text="{Binding Location}"
                           FontFamily="{StaticResource BahnschriftFont}"
                           FontWeight="SemiBold"
                           FontSize="14"
                           Foreground="{StaticResource DrMaxText}"
                           TextAlignment="Center"/>
            </StackPanel>
        </StackPanel>
    </Border>
</UserControl>
